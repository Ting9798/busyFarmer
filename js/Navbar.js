const {useEffect, useState} = React;
function Nav(props) {

    // 手機板icon
    const [isNavVisible, setNavVisible] = useState(false);
    const [imageSrc, setImageSrc] = useState('./images/shared/icon2_home.svg');

    // 處理點擊事件的函數
    const handleHamburgerClick = () => {
        setNavVisible(prevState => !prevState);
        setImageSrc(prevSrc =>
            prevSrc === './images/shared/icon2_home.svg'
                ? './images/shared/icon2_home-w.svg'
                : './images/shared/icon2_home.svg'
        );

    };

    // 根據導覽列的顯示狀態設定 body 的 class
    useEffect(() => {
        const scrollPosition = window.scrollY;

        if (isNavVisible) {
            document.body.style.position = 'fixed';
            document.body.style.top = `-${scrollPosition}px`;
        } else {
            document.body.style.position = '';
            document.body.style.top = '';
            window.scrollTo(0, scrollPosition); // 恢復滾動位置
        }

        // 清理副作用
        return () => {
            document.body.style.position = '';
            document.body.style.top = '';
            window.scrollTo(0, scrollPosition); // 恢復滾動位置
        };
    }, [isNavVisible]);

    return (
        <>
            <header className={`topbar ${props.headerClassName}`}>
                <h1 className="logo">
                    <a href="./index.html"><img src={props.logoImg} alt="小農好忙Logo" /></a>
                </h1>

                <nav className="nav-content">
                    {/* 按鈕區 */}
                    <ul className={`nav-links ${props.textColor}`}>
                        <li><a href="./philanthropy.html">公益理念</a></li>
                        <li><a href="./cooperation.html">關於小農</a></li>
                        <li><a href="./customized.html">客製果乾</a></li>
                        <li><a href="./activity.html">GO 遊趣</a></li>
                    </ul>

                    {/* 小農商城 */}
                    <ul className="shopping-btn-box">
                        <h2 className="shopping-btn">
                            <a href="./shopping.html">
                                <img src="./images/shared/bambooHat.png" alt="進入小農商城" />
                                <div>
                                    <div>小農</div>
                                    <div className="shopping-txt">商城</div>
                                </div>
                            </a>
                        </h2>
                    </ul>
                </nav>
            </header>
            <header className="navMob">
                <div>
                    <img className="hamburger" onClick={handleHamburgerClick} src={imageSrc} alt="Menu" />
                </div>
                <div className={`navMob-box ${isNavVisible ? 'show' : ''}`}>
                    <ul className="navMob-box-list">
                        <li><a href="./shopping.html">小農商城</a></li>
                        <li><a href="./philanthropy.html">公益理念</a></li>
                        <li><a href="./cooperation.html">關於小農</a></li>
                        <li><a href="./customized.html">客製果乾</a></li>
                        <li><a href="./activity.html">GO 遊趣</a></li>
                    </ul>
                    <ul className="navMob-info">
                        <li>地址：台北市中正區農村路123號</li>
                        <li>電話：+886-2-1234-5678</li>
                        <li>電子郵件：info@farmersbusy.com</li>
                        <li>傳真：+886-2-1234-5679</li>
                        <li>
                            <a href="#"><svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <g clipPath="url(#clip0_1976_6908)">
                                    <path d="M16.8483 28H11.163C10.6459 27.9708 10.1289 27.9351 9.61109 27.9125C8.01979 27.8396 6.43215 27.7229 4.8518 27.5268C2.72155 27.2621 0.949137 25.5938 0.537254 23.4792C0.405802 22.8076 0.37586 22.1244 0.311595 21.4448C0.132674 19.5606 0.0216701 17.6699 -0.000238569 15.7762C-0.0243381 13.7273 -0.0279895 11.6776 0.0932384 9.62937C0.188176 8.02083 0.291877 6.41667 0.486134 4.8125C0.751959 2.61844 2.6288 0.738646 4.82405 0.474687C6.42338 0.28316 8.02856 0.153854 9.63957 0.0867708C10.1508 0.0648958 10.6547 0.0291667 11.163 0H16.903C17.393 0.0291667 17.8823 0.0648958 18.3724 0.0867708C19.979 0.159688 21.5856 0.277812 23.1872 0.473958C25.3846 0.743021 27.2556 2.61333 27.5251 4.81469C27.7208 6.41448 27.8442 8.02302 27.9136 9.63156C27.9348 10.142 27.9706 10.648 27.9998 11.1562V16.8438C27.9881 16.9794 27.972 17.1143 27.9662 17.2499C27.9384 17.8412 27.9231 18.4333 27.8866 19.024C27.8084 20.2592 27.6755 21.4907 27.5901 22.7245C27.5108 23.9678 26.9873 25.1415 26.1149 26.0322C25.2425 26.9229 24.0791 27.4716 22.8359 27.5785C21.3132 27.7083 19.792 27.8615 18.2636 27.9169C17.7911 27.9344 17.32 27.9716 16.8483 28ZM14.0213 5.76042C13.3832 5.75702 12.7463 5.81391 12.1189 5.93031C10.1895 6.28177 8.46308 7.0525 7.08941 8.48677C5.60984 10.0246 4.96572 11.846 5.45064 13.9672C5.87347 15.8018 7.03901 17.1135 8.59088 18.1008C9.81356 18.8728 11.196 19.357 12.6338 19.5169C13.218 19.5898 13.364 19.7918 13.2852 20.3758C13.2282 20.79 13.1786 21.2071 13.1523 21.6242C13.1165 22.1907 13.4079 22.3737 13.9213 22.1236C14.856 21.6707 15.766 21.1686 16.6474 20.6194C18.7156 19.3229 20.5545 17.7836 21.8537 15.6771C22.5781 14.5017 22.8666 13.2344 22.6504 11.8599C22.3933 10.2295 21.555 8.94323 20.3025 7.91C18.4797 6.40938 16.3436 5.80125 14.0213 5.76042Z" fill="#F1F1F1" />
                                    <path d="M14.6309 12.6875C14.6309 13.2869 14.6309 13.8856 14.6309 14.4849C14.6309 14.7183 14.5455 14.8954 14.3198 14.9786C14.2596 15.0011 14.1953 15.0107 14.1312 15.0067C14.067 15.0028 14.0044 14.9855 13.9474 14.9559C13.8904 14.9262 13.8402 14.885 13.8002 14.8347C13.7602 14.7845 13.7312 14.7264 13.7151 14.6643C13.684 14.5409 13.67 14.4138 13.6735 14.2866C13.6698 13.3387 13.6735 12.3908 13.6735 11.4428C13.6735 11.3612 13.6735 11.2788 13.6823 11.1971C13.7042 10.974 13.7918 10.7851 14.0197 10.7129C14.2585 10.64 14.4425 10.7392 14.5893 10.9317C15.0698 11.5607 15.5523 12.189 16.0367 12.8166C16.0951 12.8932 16.1331 12.9938 16.2828 13.039V12.1137C16.2828 11.822 16.2792 11.5303 16.2828 11.2387C16.2894 10.9084 16.4625 10.7115 16.7407 10.702C17.0328 10.6918 17.2337 10.8901 17.2373 11.2314C17.2483 12.0692 17.2424 12.9085 17.2431 13.7456C17.2431 13.9818 17.2431 14.2188 17.2431 14.4558C17.2366 14.7037 17.1394 14.9057 16.8882 14.9829C16.637 15.0602 16.4705 14.9414 16.3244 14.7511C15.8132 14.0868 15.302 13.4254 14.7908 12.7619C14.7659 12.7231 14.7447 12.6821 14.7273 12.6394L14.6309 12.6875Z" fill="#F1F1F1" />
                                    <path d="M17.8352 12.8334C17.8352 12.3332 17.8287 11.8322 17.8352 11.3313C17.844 10.8508 17.9974 10.6896 18.4764 10.675C18.9876 10.6605 19.4988 10.6707 20.0049 10.675C20.0687 10.6764 20.1322 10.6832 20.1948 10.6955C20.4453 10.7421 20.6206 10.9295 20.6103 11.1607C20.5994 11.4079 20.4679 11.5741 20.2218 11.6215C19.8713 11.6893 19.5142 11.6448 19.16 11.6572C18.8467 11.6674 18.8292 11.6952 18.8168 12.0364C18.8073 12.2836 18.8774 12.4112 19.1527 12.3952C19.4609 12.3777 19.7712 12.3871 20.0809 12.3952C20.3905 12.4032 20.5643 12.5672 20.5811 12.8261C20.5878 12.8878 20.5816 12.9502 20.5631 13.0094C20.5445 13.0686 20.5139 13.1233 20.4732 13.1702C20.4325 13.2171 20.3826 13.255 20.3265 13.2818C20.2704 13.3085 20.2094 13.3234 20.1473 13.3256C19.8119 13.3533 19.4751 13.3606 19.1388 13.3474C18.8781 13.3409 18.8131 13.4634 18.816 13.6982C18.816 13.9213 18.8584 14.0693 19.1286 14.0628C19.428 14.0511 19.7296 14.054 20.029 14.0671C20.4022 14.0832 20.6133 14.2618 20.6176 14.544C20.622 14.8262 20.4124 15.0253 20.0458 15.0355C19.5003 15.05 18.9504 15.0522 18.4085 15.0355C18.0127 15.0223 17.8513 14.8532 17.8396 14.4521C17.825 13.9155 17.836 13.3781 17.836 12.8407L17.8352 12.8334Z" fill="#F1F1F1" />
                                    <path d="M9.01334 12.8237C9.01334 12.3046 9.01334 11.7854 9.01334 11.2662C9.01334 10.8958 9.18861 10.6924 9.48803 10.6909C9.78745 10.6895 9.97075 10.8944 9.97294 11.2604C9.97878 12.0705 9.97294 12.8813 9.97294 13.6922C9.97294 14.0283 9.9912 14.0436 10.333 14.0466C10.6251 14.0466 10.9172 14.04 11.2093 14.0538C11.5474 14.0692 11.7556 14.2689 11.7512 14.5475C11.7468 14.826 11.5401 15.0047 11.1896 15.0069C10.6541 15.0108 10.1171 15.0108 9.57859 15.0069C9.18423 15.0032 9.01699 14.8341 9.01334 14.4359C9.00969 13.8985 9.01334 13.3611 9.01334 12.8237Z" fill="#F1F1F1" />
                                    <path d="M12.1266 12.8427C12.1266 12.2885 12.1266 11.7336 12.1266 11.1794C12.1266 10.8251 12.2639 10.6836 12.591 10.6821C12.9182 10.6807 13.0811 10.8236 13.0833 11.1619C13.0901 12.2883 13.0901 13.4153 13.0833 14.5431C13.0833 14.8792 12.9211 15.0119 12.5815 15.0068C12.2566 15.0025 12.1302 14.8763 12.128 14.5336C12.1222 13.97 12.1266 13.4063 12.1266 12.8427Z" fill="#F1F1F1" />
                                </g>
                                <defs>
                                    <clipPath id="clip0_1976_6908">
                                        <rect width="28" height="28" fill="white" />
                                    </clipPath>
                                </defs>
                            </svg>
                            </a>
                            <a href="#">
                                <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g clipPath="url(#clip0_1976_6906)">
                                        <path d="M27.9994 3.49534V24.3106C27.9809 24.3795 27.9576 24.4485 27.9446 24.5174C27.6933 25.9164 26.944 26.9535 25.6743 27.572C25.2572 27.7754 24.784 27.8602 24.3354 27.9988H17.2813V18.0304H21.4357C21.7096 16.3756 21.9836 14.7393 22.2575 13.0659H17.295V9.71343H22.237V4.76199C20.6036 4.76199 18.9914 4.75785 17.3792 4.76199C14.5233 4.76957 12.3694 6.94018 12.3599 9.81616C12.3599 10.7987 12.3599 11.7806 12.3599 12.7625V13.0852H9.09168V18.0359H12.3599V27.9995H3.66208C3.62139 27.9803 3.57896 27.965 3.53538 27.954C1.42942 27.5975 0.00490219 25.9433 0.00353246 23.8141C-0.00285961 17.2071 -0.000576728 10.6004 0.0103811 3.99386C0.0120469 3.52728 0.0862247 3.06383 0.230223 2.62034C0.808248 0.874478 2.34303 -0.192898 4.21613 -0.193587C10.4032 -0.193587 16.5898 -0.193587 22.776 -0.193587C23.1951 -0.193587 23.6149 -0.211515 24.0327 -0.186002C25.638 -0.0894697 26.8352 0.673139 27.5591 2.11975C27.7734 2.5438 27.857 3.03405 27.9994 3.49534Z" fill="#F1F1F1" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_1976_6906">
                                            <rect width="28" height="28" fill="white" />
                                        </clipPath>
                                    </defs>
                                </svg>
                            </a>
                            <a href="#">
                                <svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <g clipPath="url(#clip0_1976_6902)">
                                        <path d="M0 21.4375V6.5625C0.013125 6.49141 0.0267969 6.42031 0.0382813 6.34867C0.413802 3.99711 1.6224 2.20555 3.66406 0.973984C4.55547 0.434219 5.53711 0.149297 6.5625 0H21.4375C21.4813 0.0109375 21.525 0.0257031 21.5693 0.0322656C23.9838 0.382812 25.8048 1.62203 27.0528 3.71C27.5784 4.58937 27.8523 5.5557 28 6.5625V21.4375C27.9858 21.5179 27.971 21.5977 27.9579 21.6781C27.5623 24.0589 26.3238 25.8597 24.2424 27.0807C23.3751 27.5888 22.4257 27.8556 21.4375 28H6.5625C6.51875 27.9891 6.475 27.9743 6.4307 27.9677C4.01898 27.6117 2.19461 26.378 0.947187 24.2895C0.422187 23.4101 0.146016 22.4448 0 21.4375ZM4.9432 13.9727C4.9432 15.312 4.93828 16.6523 4.94648 17.9911C4.94455 18.3099 4.97017 18.6283 5.02305 18.9427C5.47258 21.3965 7.45281 23.0491 9.95422 23.0552C12.6521 23.0621 15.3501 23.0621 18.048 23.0552C18.3486 23.056 18.6488 23.0302 18.9448 22.978C21.3992 22.528 23.0513 20.5483 23.0568 18.0474C23.0634 15.3495 23.0634 12.6516 23.0568 9.95367C23.0579 9.66199 23.0343 9.37074 22.9862 9.08305C22.5646 6.65055 20.58 4.95852 18.1043 4.94648C15.3699 4.93299 12.6355 4.93299 9.90117 4.94648C8.80742 4.95086 7.79625 5.26094 6.91906 5.93359C5.60656 6.93875 4.96891 8.28516 4.95031 9.92578C4.93008 11.2749 4.9432 12.6241 4.9432 13.9727Z" fill="#F1F1F1" />
                                        <path d="M13.9932 6.5415C15.3878 6.5415 16.7823 6.53876 18.1763 6.5415C18.608 6.54063 19.0356 6.62513 19.4345 6.79013C19.8334 6.95513 20.1958 7.19738 20.5007 7.50294C20.8057 7.8085 21.0472 8.17134 21.2114 8.57059C21.3756 8.96984 21.4593 9.39762 21.4575 9.82931C21.4608 12.6093 21.4608 15.389 21.4575 18.1686C21.4593 18.6003 21.3758 19.0282 21.2116 19.4275C21.0474 19.8268 20.8059 20.1897 20.5009 20.4953C20.196 20.801 19.8336 21.0433 19.4346 21.2083C19.0357 21.3733 18.608 21.4578 18.1763 21.457C15.3872 21.4602 12.5982 21.4602 9.8091 21.457C8.94201 21.4545 8.11124 21.1085 7.49878 20.4947C6.88632 19.8809 6.5421 19.0494 6.54152 18.1823C6.53824 15.3936 6.53824 12.6045 6.54152 9.81509C6.5421 8.948 6.88643 8.11652 7.49904 7.50288C8.11165 6.88924 8.94256 6.54352 9.80965 6.5415C11.2042 6.53822 12.5987 6.5415 13.9932 6.5415ZM18.0784 14.0052C18.0861 11.786 16.2327 9.92775 14.0058 9.92064C11.7789 9.91353 9.92777 11.7669 9.92066 13.9938C9.9141 16.2113 11.7696 18.0724 13.9938 18.0784C16.2179 18.0844 18.0713 16.2316 18.0784 14.0052ZM19.4953 9.30868C19.5052 8.9029 19.1273 8.51353 18.715 8.50368C18.3026 8.49384 17.9198 8.87228 17.91 9.28462C17.9001 9.69697 18.2786 10.0792 18.6909 10.0891C19.1032 10.0989 19.485 9.72103 19.4953 9.30868Z" fill="#F1F1F1" />
                                        <path d="M16.4827 14.0051C16.4848 14.3313 16.422 14.6547 16.298 14.9565C16.1739 15.2583 15.9911 15.5324 15.7602 15.7629C15.5293 15.9934 15.2548 16.1756 14.9528 16.299C14.6508 16.4225 14.3272 16.4846 14.0009 16.4819C12.6031 16.4819 11.5148 15.3854 11.5176 13.981C11.5209 12.6018 12.6201 11.5168 14.0119 11.5201C14.3381 11.5182 14.6613 11.5814 14.9629 11.7058C15.2644 11.8302 15.5381 12.0134 15.7681 12.2447C15.9981 12.476 16.1797 12.7508 16.3024 13.053C16.4251 13.3553 16.4864 13.6789 16.4827 14.0051Z" fill="#F1F1F1" />
                                    </g>
                                    <defs>
                                        <clipPath id="clip0_1976_6902">
                                            <rect width="28" height="28" fill="white" />
                                        </clipPath>
                                    </defs>
                                </svg>
                            </a>
                        </li>
                    </ul>
                </div>
            </header>
        </>
    )
}
